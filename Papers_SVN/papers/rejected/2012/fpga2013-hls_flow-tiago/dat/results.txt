- Tudo compilado com o mips-gcc 4.0.2 que tá no /usr/local
- HLS com o Catapult2011.
        + A microarquitetura foi setada para ficar a mais parecida possível com a referência de comparação.
        + Foi gerado tanto RTL genérico quanto RTL específico para a Virtex6. Os resultados são os do melhor.
- Sintese com o ISE 13.1 para a nossa XC6VLX240T
        + Opt. goal = Speed
        + Effort = High
        + Auto BRAM pack. = true
        + Reg balancing = true
        + Resto default

========================================================================================================================
========================================================================================================================
Resultados indivíduais
========================================================================================================================

SW(Tamanho do código) - obtido pela comp. do componente sozinho junto uma app dummy (exceto o escalonador que é o EPOS full)
    + code/data
    +compilado com o gcc -02 --no-exceptions --no-rtti --no-use-cxa-atexit 
SW(Tempo de execução op) - tempo de exec. de cada operação. Calculado com o comp. rodando no EPOS
    +compilado com o gcc -02 --no-exceptions --no-rtti --no-use-cxa-atexit 
HW(Uso recursos) - nº de LUT/nº de regs. Obtido após a síntese do comp. isolado (PAR não foi feito)
HW(ciclos p/op) - nº de ciclos necessarios por operação: min/max
HW(Max freq) - freq. max estimada após a síntese

-----------------------------------------------------------------------------------------------------------------------
Escalonador
-----------------------------------------------------------------------------------------------------------------------
            SW(Tamanho do código)   SW(Tempo de execução op)    HW(Uso recursos)    HW(ciclos p/op)     HW(Max freq)
Orig. EPOS  8980/432                avg=4.26 us                 -                   -                   -
    insert  -                       5.1 us                      -                   -                   -
    remove  -                       2.7 us                      -                   -                   -
   suspend  -                       3.2 us                      -                   -                   -              
    resume  -                       4.2 us                      -                   -                   -
    choose  -                       6.1 us                      -                   -                   -
Unific. SW  9184/432                avg=4.52 us                 -                   -                   -
    insert  -                       5.3 us                      -                   -                   -
    remove  -                       2.9 us                      -                   -                   -
   suspend  -                       3.4 us                      -                   -                   -              
    resume  -                       4.3 us                      -                   -                   -
    choose  -                       6.7 us                      -                   -                   -
Hugo. HW    -                       -                           875/665             1/40                262.813MHz                         
    insert  -                       -                           -                   4/12                -                
    remove  -                       -                           -                   1/3                 -
   suspend  -                       -                           -                   3/30                -
    resume  -                       -                           -                   4/24                -
    choose  -                       -                           -                   5/40                -
Unific. HW  -                       -                           2883/1772           3/36                196.198MHz
    insert  -                       -                           -                   NA                  -      
    remove  -                       -                           -                   NA                  -
   suspend  -                       -                           -                   NA                  -
    resume  -                       -                           -                   NA                  -
    choose  -                       -                           -                   NA                  -

Hugo. HW: VHDL do mestrado do Hugo. 
    + C_MAX_THREADS=8 e C_DWIDTH=32
    + Ciclos do suspend,resume e choose calc. é a soma de todas as op necessárias para executa-los
Orig. EPOS, Unific. SW, Unific. HW: escalonador atual do EPOS
    +const Index maxSchedulables = 8

####Resultados após PAR

Hugo. HW
Number of Slice Registers 665
Number of Slice LUTs 837
Number of occupied Slices 407

Unific. HW
Number of Slice Registers 1,771
Number of Slice LUTs 2,397
Number of occupied Slices 807
    
-----------------------------------------------------------------------------------------------------------------------
ADPCM
-----------------------------------------------------------------------------------------------------------------------
            SW(Tamanho do código)   SW(Tempo de execução op)    HW(Uso recursos)    HW(ciclos p/op)     HW(Max freq)
Orig. C     1992/72                 avg = 3.9                   -                   -                   -
    enc     -                       4.3 us                      -                   -                   -
    dec     -                       3.5 us                      -                   -                   -
Unific. SW  2220/56                 avg = 3.9                   -                   -                   -
    enc     -                       4.3 us                      -                   -                   -
    dec     -                       3.5 us                      -                   -                   -
Opencores   -                       -                           457/124             2/6                 194.263MHz
    enc     -                       -                           -                   6                   -
    dec     -                       -                           -                   2                   -
Unific. HW  -                       -                           471/208             5                   204.040MHz
    enc     -                       -                           -                   NA                   -
    dec     -                       -                           -                   NA                   -

Orig. C: implementado por mim com base em um código do matlab.
Unific. SW, Unific. HW: implementado por mim com base no C.
Opencores: implementação em verilog obtida a partir do opencores.

####Resultados após PAR

Opencores
Number of Slice Registers 138
Number of Slice LUTs 360
Number of occupied Slices 123
Number of RAMB18E1/FIFO18E1s 2

Unific. HW
tem alguma coisa errada com o ISE
N Slices estimados = 149


-----------------------------------------------------------------------------------------------------------------------
DTMF
-----------------------------------------------------------------------------------------------------------------------
            SW(Tamanho do código)   SW(Tempo de execução op)    HW(Uso recursos)    HW(ciclos p/op)     HW(Max freq)
Orig. C     1076/3152               6844.9 us                   -                   -                   -
Unific. SW  1568/2884               7484.0 us                   -                   -                   -
Gambi       -                       -                           443/257             5643                105.466MHz
Unific. HW  -                       -                           458/300             5635                93.218MHz

Orig. C: implementado pelo Pizani
Unific. SW, Unific. HW: implementação do Pizani reestruturada em C++ para HLS
Gambi: Gerado a partir da versão unificada sem o dispatcher e com ponto fixo

Tempo de execução é o tempo médio de processamento de um frame de amostras. Mesmo para ciclos p/op


####Resultados após PAR

Os resultados da síntese estão estranhos

Slices estimados Gambi = 161
Slices estimados Unif = 179

-------------------------------------------------------------------------------------------------------------.----------
========================================================================================================================
========================================================================================================================
Resultados do SoC
========================================================================================================================

EPOS - sem stubs
   text	   data	    bss	    dec	    hex	filename
  16872	     76	    165	  17113	   42d9	img/epos.img
EPOS - sem stubs sem sched
   text	   data	    bss	    dec	    hex	filename
  12468	     76	    153	  12697	   3199	img/epos.img
EPOS - com stubs e sem sched
   text	   data	    bss	    dec	    hex	filename
  14384	     76	    153	  14613	   3915	img/epos.img
EPOS - com stub com sched
   text	   data	    bss	    dec	    hex	filename
  17088	     76	    165	  17329	   43b1	img/epos.img

Code/data
Tam sched       4608/12
Tam EPOS        12468/229
Tam stub fix    216/0       
Tam stub p/c    1700/0


HW base (rev 1793  https://svn.lisha.ufsc.br/openepos/trunk)
Number of Slice Registers 1689
Number of Slice LUTs 5231
Number of Block RAM/FIFO 258
POS PAR
Number of Slice Registers 1,690
Number of Slice LUTs 4,626
Number of occupied Slices 1,818
Number of RAMB36E1/FIFO36E1s 258
Number of DSP48E1s 0

HW stub
Number of Slice Registers 52
Number of Slice LUTs 52]
POS PAR
Number of Slice Registers 52
Number of Slice LUTs 52
Number of occupied Slices 33

SW DATA = EPOS_foot + Comp_foot*x
EPOS_foot = Tam EPOS + Tam stub fix
Comp_foot = Comp_foot (se em SW)
          = Tam stub p/c (se comp em HW)

HW DATA = HW_base + Comp_fpga*x
Comp_fpga = HW stup (se em SW)
          = Comp (se em HW)
          
Freq = 100 MHz          
          

========================================================================================================================
