\documentclass[12pt]{article}

\usepackage{sbc-template}

\usepackage{graphicx,url,multirow,textcomp}
\usepackage[caption=false]{subfig}

%\usepackage[brazil]{babel}   
\usepackage[latin1]{inputenc}  


%Comandos
\newcommand{\fig}[4][ht]{
  \begin{figure}[#1] {\centering\scalebox{#2}{\includegraphics{fig/#3}}\par}
    \caption{#4\label{fig:#3}}
  \end{figure}
}
     
\sloppy

\title{Solar-powered Biosensor in the Perspective of the EPOSMote Wireless Sensing Plataform}

\author{André Ruza Paulon\inst{1}, Leonardo Kessler Slongo\inst{1}, \\Dr. Antônio Augusto Fröhlich \inst{1}, Dr. Leandro Buss Becker \inst{2}, Dr. Eduardo Augusto Bezerra\inst{3}}
\address{Software/Hardware Integration Lab -- Federal University of Santa Catarina \\
\inst{2} Department of Automation and Systems -- Federal University of Santa Catarina\\
\inst{3} Department of Electrical Engineering -- Federal University of Santa Catarina\\
  Florianópolis -- SC -- Brazil\\
  \email{andrerp@lisha.ufsc.br}}


%\address{Software/Hardware Integration Lab -- Federal University of Santa Catarina \\
%  Florianópolis -- SC -- Brazil\\
%  \email{andrerp@lisha.ufsc.br}}

\begin{document} 

\maketitle

\begin{abstract}

Recently, biosensor applications have explored their ability to detect  analytes through  physicochemical detectors in field . Nevertheless, complex adjacent instrumentation has severally hampered their deployment. In this paper we propose to combine the versatility of EPOSMote wireless sensing platform to build biosensors that can be easily employed in field. A solar energy harvesting system was designed in order to increase the EPOSMote's autonomy. The solar-powered embedded system is able to operate in quasi-perpetual mode which perfectly fits for in-field applications. The signal captured from hydroquinone biosensor is amplified and filtered by a conditioning circuit. This signal is sampled and transmitted over a wireless network by the EPOSMote radio. Finally, a central system is responsible for receiving and interpreting the acquired data. Our conditioning circuit was tested using a carbon paste electrode in order to evaluate its performance. Comparing our results against the potentiostat-galvanostat PGSTAT12 measurements we conclude that our system accuracy is enough for detecting hydroquinone concentration in agro-chemicals.

\end{abstract}
     
\section{Introduction} \label{sec:firstpage}
%Rever - 1)      Não está claro o problema, i.e., se está no desenvolvimento do sensor (com dimensão pequena, movido a bateria, etc) ou se está na sua integração com um nodo wireless (de baixo custo), ou ambos.
Biosensors have been hardly explored and studied over the last few decades. They are defined as an analytical device which converts a biological response into a quantifiable and processable signal \cite{ROSATTO2001}. However, it is necessary an electrical interface (transducer element), a signal amplifier in order to obtain this signal. 

They are used in order to determine the concentration of substances and other parameters of biological interest even where are not utilized biological system directly \cite{Mohanty2006}. Biosensors may be applied in a large variety of samples including body fluids, food samples, cell cultures and environmental analysis (e.g. hydroquinone).

Hydroquinone (1,4-dihydroxy-benzene) is a phenolic compound and often coexist as isomers in environmental samples. Determination of hydroquinone levels is great necessary because of it coexistence in environmental pollutants with high toxicity \cite{Honglan:2005} like pesticides. 

Hydroquinone Biosensors have a fast and simple preparation process and the possibility of renewing the electrode surface. Due to this, they can be a good way to test the final efficiency of the device\cite{Marcolino:2007}. 

Although there are many applications in controlled environments, biosensor can be used in toughest environments. In many cases the main limitation of collect data using biosensors is the lack of cheap and effective handheld devices. Thus, they have to be confined to expert users of high-cost equipment in a lab environment and cannot be used semi-skilled operators \cite{Lili:2009}. Tools used for the management of biosensors like potentiostats tend to be big and expensive, restricting its application in field where is preferable to have a small, cheap and portable technology.

Technologies such as Wireless Networks (WN) and Solar Power Energy can assist the independence of portable devices. WN facilitate the communication between the local to be monitored and the control unit, enabling data transmission without wires dependence \cite{Akyildiz:2002}\cite{Sobral:2008}. In addition, harvesting Solar Energy raises the possibility of infinite lifetime for the battery supplies \cite{Raghunathan:2005}.

In this paper we present a proposal for a portable and effective device. We developed a Solar-powered tool capable to assist in hydroquinone level measurement and  transmit it over wireless network using EPOSMote platform \cite{website:EposMote}. 

This paper is organized as follows. Related work in section 2. In section 3, we will present a description of the implemented architecture. A brief overview about the biosensor used in Sections 4. A Presentation of the filter described in Sections 5. The results obtained are presented in section 6. And finally, we explain our conclusion in Section 7.

\section{Related Work}
%2)      A análise do estado da arte deve ser feita à luz do problema (no artigo é feito uma análise/crítica muito ampla).

In the Salerno University, \cite{Albanese2010} an innovative measurement system for automatic FIA(Flow Injection Analysis) is proposed. The main innovations are concentrated in the digital signal processing: peak amplitude measurement is fully automatized because the proposed units are able to detect the correct peak. The biosensor characteristics can be memorized in order to provide the analyte concentration as result. Furthermore, the LMU's (Local Measurement Unit) can be interfaced via RS485 port to a controller in order to be used in a multisensor measurement system for FIA process automatic management. A novel unit playing the role of controller (Manager Unit) has been designed to control several LMU's and a set of actuators, e.g. pumps and valves. Nevertheless, the communication between LMU and MU can be realized through a serial link. In this project was not used a WSN for transmitting data and control actuators,  the mobility of equipment may be improved and the range of applications can be  expanded attaching a wireless network.

 In \cite{ Vittal:2006} an experiment is intended for the comprehension  of the development of a potentiostat explaining design, function, and optimization.  The simple circuit presented here is solid state, amenable to battery-powered operation, and if interfaced to an appropriate electrochemical cell, can be used as a rugged, field-portable electrochemical sensor system for monitoring environmental contaminants. Both anodic and cathodic peak currents exhibit a linear correlation with analyte concentration with a correlation factor greater than 0.99. Nevertheless, the transmission data from the signal acquired is not explored in field applications. 

In \cite{Singh:2010} is presented the potential challenges of parallel hardware and high power  consumption in the UWB receiver architecture and proposed a real time reconfigurability algorithm to address that. The real time reconfigurability algorithm senses the current operating condition and intelligently reconfigures the receiver hardware to optimal size in order to reduce the average power consumption. The results show approximately 25\% power saving in the receiver's digital backend with the implementation of the real time reconfigurability algorithm for ASIC as well as FPGA implementations. At the same time the reconfigurability maintains the data detection error rate as the normal receiver. However,  it does not takes signal amplifier of a portable potentiostat and consider the UWB transceiver a better candidate to be used in the biosensor unit for WBSN applications.


\section{Local measurement unit}
%3)      Não seção 3, é necessário começar retomando a necessidade de uma “tool” e explicando suas características (relacionando com o problema). Depois se entra na parte mais técnica.

In order to simplify the structure of the tool, it is separated in three main blocks: Sensible element, Conditioning circuit and Processing unit. Fig. 1 presents the block diagram of the Local measurement unit (LMU). 
\vspace{3 cm}
\begin{figure}[!htbp]
%     \centering
	  \hspace{15 mm}
     \includegraphics[scale=0.35,bb=1 1 400 94]{imagens/LMU.png}
     \caption{Block diagram of the Local Measurement Unit}
     \label{Fig1}
\end{figure} 

%4)      Não ficou claro se o sensor (“sensible element”) é uma proposta sua ou se é uma reprodução do que já existe. Idem para o circuito de condicionamento.
\subsection{Sensible element}
The sensible element is comprised of three electrodes interacting in a voltammetry cell. The working electrode (WE) serves as the transduction element in the biochemical reaction works as the anode while the auxiliary electrode (AE) works as a cathode. Thus, electrons go out from the anode into the solution, being attracted by the cathode.  The AE has an exclusive function of being a source or drain of electrons.

To make the result obtained repeatable, it is essential for the difference of potential between both electrodes to remain constant. To maintain a constant difference of potential between the AE and the WE, a third electrode called reference electrode (RE) is added to the electrochemical cell. This is necessary because the potential difference between electrode working and counter electrode varies due to the change in electrical resistance of solution, which occurs due to mass transfer kinetics and ions reduction.

The RE establishes a constant reference potential in the electrochemical cell.  A stable reference potential with temperature and time is essential in the RE. Also, there should be no chemical reactions involving the components of the electrolyte and the reference electrode. 

\vspace{1.7 cm}
\begin{figure}[!htbp]
%     \centering
	  \hspace{40 mm}
     \includegraphics[scale=0.35,bb=0 0 200 94]{imagens/Potenciostato3.png}
     \caption{Voltammetry cell with three electrodes}
     \label{Fig2}
\end{figure}

Figure 2 provides an illustration of a voltammetry cell and directions of the electrons and current flow. A current is forced between WE and AE, high enough and in proper polarity to keep the working electrode potential at a constant value with respect to the RE electrode\cite{Blanco:2006}.

\subsection{Conditioning circuit} 
The conditioning circuit block diagram is presented in Fig. 3. A triangular voltage waveform, generated by the microcontroller, is imposed between the reference and working electrodes and the resultant current through the cell is measured between the counter and working electrodes. The output signal received in WE is amplified and converted by a I-V circuit. Furthermore, the peak value of the current measured over a linear potential range is directly proportional to the bulk concentration of the analyte.

Because of different characteristics on the active substances, it is necessary a particularly input voltage   depending on its statement. To change the output voltage to bipolar, an op-amp level shifter circuit is used between RC circuit and the AE . 

\vspace{2.5 cm}
\begin{figure}[!htbp]
%     \centering
	  \hspace{30 mm}
     \includegraphics[scale=0.5,bb=0 0 400 94]{imagens/MeasurementUnit.png}
     \caption{Voltammetry cell with three electrodes}
     \label{Fig3}
\end{figure}

\subsection{Processing unit}
%5)      O EposMote é um trabalho de terceiros. Não me parece que deveria ser tão enfatizado como parte da proposta. Deveria sim ser enfatizado com foi feito para acoplar nele o sensor e o circuito de condicionamento.
The chosen PiP (Platform-in-Package) was the Freescale MC13224V, it's based in an 32-bit ARM7 core and an integrated PA which provides programmable output power from -30dBm to +4dBm, all this in a 9.5x9.5$mm^2$ footprint. Moreover it owns low power consumption supply voltage 2.0 - 3.6 V,-96dBm for 1\% RX sensitivity, high-density memory bandwidth 2.4 GHz ISM, with many different interfaces including 2 individual ADCs with 8 input channels and a 12-bit resolution.\cite{website:EposMote}

\vspace{2 cm}
\begin{figure}[!htbp]
%     \centering
	  \hspace{50 mm}
     \includegraphics[scale=0.2,bb=0 0 400 94]{imagens/Eposmote.jpg}
     \caption{EposMoteII}
     \label{Fig4}
\end{figure}

Data  acquisition and processing are carried out by a ARM7TDMI microcontroller. In this project a PWM was implemented raging its duty cycle and using a RC filter to generate a triangular waveform.  The input waveform is fed to a current buffer AE and to the RE, stimulating a reaction between all reactants.
The input voltage from the WE to A/D converter is variable and depends on the voltage on the reference pin (ranging between 0 and 4096). Due to this, the sent value to a sink sensor is proportional to the current value.

The communication between LMU and manager unit (MU) is realized through wireless link via radio. EPOSmotes  can perform a data transmission to an average distance of 20-100 meters depending on the terrain and the obstacles between the sensors nodes.

\subsection{Manager unit}
%6)      O papel do “Manager Unit” não está bem explicado, nem a sua relevância para o trabalho. Não se sabe, por exemplo, se é necessário um MU específico para este trabalho ou se um único MU configurável serve para qualquer aplicação de WSN.
A sink sensor is responsible for data acquisition from the sensor node. The data is stored in a buffer and wrote in the serial port where they can be written in a text file. The last step is to  process the value in a file, converting them to values according the current applied in the WE and the voltage applied in AE. Thus,  we can plot different kind of graphics and indentify peaks of current and therefore the level concentration of the solution.

\section{Experiment}
%7)      Toda seção com experimentos deve iniciar detalhando o que se quer experimentar/testar (o que não é claro no seu artigo).
The voltammetric measurements were performed, at first, on a potentiostat-galvanostat PGSTAT12 the Autolab (Eco Chemie, Sweden) using a software GPES version 4.9.006, Eco Chemie, see Figure 3. A glass cell with PVC cover was used without dividing compartment containing 10 mL of acetate buffer 0.1 mol L-1 (pH 5.0) with aliquots of standard solution of hydroquinone. 
 The three electrodes used were constructed using the biosensor as working electrode, a carbon tube (0.5 cm2) electrode used as auxiliary electrode and Ag / AgCl (3.0 mol L-1 KCl) as reference electrode.

Electrochemical measurements realized are reported in Table 1, indicating the potential and current according to the concentration of the solution for the volume of hydroquinone injected into the cell.
 
\begin{table}[ht!]
\begin{center}
\begin{tabular}{|p{2cm}||p{3cm}||p{2cm}||p{2cm}||p{2cm}||p{2cm}|}
\hline
\textbf{Volume of the aliquot} & \textbf{Concentration of hydroquinone (mol / L)} &\multicolumn{2}{|c|}{Square wave voltammetry} &\multicolumn{2}{|c|}{Cyclic voltammetry} \\
\hline
 &  &  Current & Potencial & Current & Potencial\\
\hline
50  \textmu L & 3,01x10-6 & 2,733x10-7 & +0,289 & 1,43x10-7 & +0,357\\
\hline
100 \textmu L & 5,95x10-5 & 5,079x10-7 & +0,304 & 3,06x10-7 & +0,362\\
\hline
150 \textmu L & 8,88x10-5 & 7,595x10-7 & +0,304 & 4,59x10-7 & +0,352\\
\hline
200 \textmu L & 1,18x10-4 & 9,97xx10-7 & +0,313 & 6,08x10-7 & +0,348\\

\hline
\end{tabular}
\end{center}
\caption{Electrochemical measurements realized on a potentiostat-galvanostat PGSTAT12}
\label{Tab1}
\end{table}

With the measures outlined above a graph of current versus voltage (Cyclic voltammetry ) can be generated to facilitate the understanding of the sample as shown in Figure 6.  

%8)      Não entendi o que queres mostrar com as figuras 6
\vspace{3 cm}
\begin{figure}
   \centering
	\subfloat[Cyclic voltammetry]{\includegraphics[scale=0.8,width=7cm,bb=0 0 400 94]  {imagens/VoltametriaCiclica1.png}}

	\caption{ Cyclic voltammetry with velocity of 500 mV/s and Potencial between -1,0 to +1,0 V.}

\label{fig6}
\end{figure}

Based on information presented above, the shift circuit was configured to operate between 1,5 V to -1,5V. In this range of voltage occurs the hydroquinone reaction.

\subsection{Biosensor}
The implementation of LMU was started by means of amperometric biosensors for the determination of hydroquinone using a carbon paste electrode. This biosensor was chosen due to important advantages over all other solid electrodes, such as speed and simplicity of the make process, its possibility of surface renewing every new measure (this is important in the analysis of compounds where the reaction products are absorbed on the electrode surface) and its the low residual current, which is lower than pyrolytic graphite electrodes and carbon vitreous. However, some difficulties to determination of substances with a carbon paste electrode may arise due to its high detection limit, which complicates the analysis of trace substances\cite{Marcolino:2007}.
%\section{Filtering}
%Rever, trocar para filtro analogico
%Since the physiological or important information parameters are embedded in the waveform of the sensor signal, accurate and non-distortive sensor signal waveform extraction requires digital filter models which give a high magnitude attenuation for out-of-band frequencies and unwanted additive noise signal while preserving the linear phase characteristic of the filter to avoid distortion in the important sensor signal waveform\cite{Nkosi:2011}.
 
%For our porpouse a low pass filter is employed in order to filter the low frequency noises since the sensor signal works in a high frequency. Overall, the implementation with the best properties seems to be the IIR\cite{Ban:2006}, wich better suit the MP ARM7TDMI.

\section{Experimental Results}
%9)      A seção 5 apresenta vários resultados. Porém, novamente, não se entende bem o que se quer mostrar ou comprovar.
To prove the effectiveness of the experiment, the whole system was evaluated in the real case scenario using a hydroquinone biosensor. The three electrodes used were constructed using the biosensor as working electrode, a carbon tube (0.5 cm2) electrode used as auxiliary electrode and Ag / AgCl (3.0 mol L-1 KCl) as reference electrode.

A PWM was configured at the microcontroller to enable an input voltage in the voltammetry cell which achieves a scan rate of 322 mV/s. This speed is high enough for hydroquinone measurement. Moreover, it is possible to change the scan rate by changing the periodicity.

Due to the low voltage flow, the biosensor had to be coupled to an amplifier circuit which raised 10 times the voltage. This gain and a signal shift allowed EPOSMoteII's ADC to read and transmit the acquired data to the sink node.The acquired voltage was processed to evaluate the analyte concentration.

In order to improve the quality of the received data, 4 contiguous values are averaged to minimize the noise and then stored in an array.  Table 2 presents parameters used to evaluate the tool.  According to these aliquots the results was plotted on figure 8.  

\begin{table}[ht!]
\begin{center}
\begin{tabular}{|p{2cm}||p{3cm}||p{2cm}||p{2cm}||p{2cm}||p{2cm}|}
\hline
\textbf{Volume of the aliquot} & \textbf{Concentration of hydroquinone (mol / L)} &\multicolumn{2}{|c|}{Cyclic voltammetry} \\
\hline
 &  &  Current & Potencial\\
\hline
400  \textmu L & 1,2 x10-4 & -6,34x10-7 & -0,440\\
\hline
1000 \textmu L & 2,91 x10-4 & -6,28x10-7 & -0,120\\
\hline
\end{tabular}
\end{center}
\caption{Electrochemical measurements realized on LMU}
\label{Tab1}
\end{table}

\vspace{3 cm}
\begin{figure}[!htbp]
%     \centering
	  \hspace{25 mm}
     \includegraphics[scale=0.8,bb=0 0 400 94]{imagens/CV.png}
     \caption{ Cyclic Voltammetry in LMU.}
     \label{Fig8}
\end{figure} 

\pagebreak[4]

A calibration curve (response vs. analyte concentration) for the cathodic peak of current was generated in Figure 9 based on values from the i versus E graphs (Figure 8).

\vspace{3.5 cm}
\begin{figure}[!htbp]
%     \centering
	  \hspace{25 mm}
     \includegraphics[scale=0.8,bb=0 0 400 94]{imagens/Concentration.png}
     \caption{ Calibration curve. }
     \label{Fig9}
\end{figure} 

In Figure 10 is presented a comparison between the realized measurements in Figure 8 and the hydroquinone cyclic voltammetry provided by potentiostat-galvanostat PGSTAT12 in figure 6a. A solution containing 10 mL of acetate 0.1 mol L-1 (pH 5.0) with aliquots of 200 uL of standard solution and a hydroquinone concentration of 1,18 x 10-4 (mol/L) was used by PGSTAT12, and a solution containing 20 mL of acetate 0.1 mol L-1 (pH 5.0) with aliquots of 400 uL of standard solution and a hydroquinone concentration of 1,2 x 10-4 (mol/L) was used by our potentiostat. The difference between aliquot is due to the laboratory equipment. The current flow are increasing at the same time as the measure from PGSTAT12.  The proposed LMU can indentify peaks of concentration of hydroquinone as showed in figure 10. However, the accuracy is approximately 0,45uA lower than a industrial potentiostat.

\vspace{3.5 cm}
\begin{figure}[!htbp]
     %\centering
	  \hspace{25 mm}
     \includegraphics[scale=0.8,bb=0 0 400 94]{imagens/Comparacao.png}
     \caption{Comparison between a cyclic voltammetry provided by potentiostat-galvanostat PGSTAT12 and the proposed potentiostat . }
     \label{Fig10}
\end{figure}

Comparing the performed measurement with Figure 7, we note that the current flow is increasing at the same time as the measure from PGSTAT12 demonstrating that it is able to exhibit a constant performance. The LMU  implemented  have an accuracy high enough  for detecting hydroquinone concentration, shown in Figure 11.
\vspace{3 cm}
\begin{figure}[!htbp]
     %\centering
	  \hspace{25 mm}
     \includegraphics[scale=0.8,bb=0 0 400 94]{imagens/Peak.png}
     \caption{Peak identification. }
     \label{Fig11}
\end{figure}


\section{CONCLUSION}
%10)   Aquilo que está escrito nas conclusões me parece ser um pouco da explicação que deveria aparecer na parte da avaliação.

%11)   Também falta ir um pouco além nas conclusões, apenas diz que o sensor proposto é “satisfatório” em relação a um similar industrial. Quão satisfatório? Se justifica usar o seu em qualquer aplicação? Ou em quais aplicações ele se mostra um bom “custo/benefício”?
This work aimed to design a low-cost portable instrument for amperometric chemical sensors capable of detecting different levels of hydroquinone. A real experiment was compared to an industrial potentiostat and confirmed that the biosensensor with integrated potentiostat works satisfactorily.
Its noise level is low enough to measure dc currents with a resolution of  approximately 600 nA.In addition, because of the reduced size, low cost, battery-powered and WSN interface it is suited to be used directly in field applications.

% A methodology based on the  development of a technology that aims to detect a concentration of hydroquinone by sending it via a wireless network for this information to be used in the receiver that will manipulate it according to need. In order to obtain a high precision solution, a low pass filter was implemented. 

%It is a computer system that assists in obtaining measurements, improved productivity, ease storage of information that can result in a historical, research enabling better accuracy in determining the time between data collection.

Future work will be focused on allowing a simple customization of the proposed system for a wide range of different application fields with different types of biosensors, improving its sensibility and implementing a thorough protocol for WBN.

%\section{References}
\bibliographystyle{plain}
%\nocite{*}
\bibliography{SolarBiosensor}

\end{document}
