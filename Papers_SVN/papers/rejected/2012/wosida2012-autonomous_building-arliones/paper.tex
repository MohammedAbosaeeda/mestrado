\documentclass[12pt]{article}

\usepackage{sbc-template}

\usepackage{graphicx,url}

\usepackage[english]{babel}
\usepackage[latin1]{inputenc}  

\newcommand{\fig}[4][tb]{
  \begin{figure}[#1]
    {\centering{\includegraphics[#4]{fig/#2}}\par}
    \caption{#3}
    \label{fig:#2}
  \end{figure}
}

\usepackage{multirow}
%\setlength{\tabcolsep}{1mm}
\newcommand{\tab}[4][tb]{
  \begin{table}[tb]
    \caption{#3}\label{tab:#2}
    {\centering\footnotesize\textsf{\input{fig/#2.tab}}\par}
  \end{table}
}

% \newcommand{\note}[1]{\small{#1}}
\newcommand{\note}[1]{}

\sloppy

\title{\textsc{SmartBuildings} as Autonomous Distributed Systems}

\author{Arliones Hoeller Jr. and Antônio Augusto Fröhlich}

\address{Software/Hardware Integration Lab\\
Federal University of Santa Catarina (UFSC)\\
P.O. Box 476 -- 89.040-900 -- Florianópolis -- SC
\email{\{arliones,guto\}@lisha.ufsc.br}
}

\begin{document} 

\maketitle


\begin{abstract}
The \textsc{SmartGrid} has come to describe a next-generation electric power
system that is typified by the increased use of communications and information
technology in the generation, transmission, distribution, and consumption of
electric energy.
As on the start-points of the energy chain, that already integrate power plants
and transmission lines, the intelligent end-points (i.e., \textsc{SmartHomes},
\textsc{SmartBuildings}) may decrease their energy footprint as they become able
to reduce power, use alternative power sources, and/or schedule their energy
demands to take the best advantage from energy availability and cost. From a
computer systems perspective, these buildings have become complex distributed
systems. As they must adapt to variations on energy availability and demands,
they also need to feature autonomous operation. By adequately monitoring and
controlling devices distributed in a control network, \textsc{SmartBuildings}
are able to impelent a multitude of services in more efficient ways. In this
paper we describe the approach that is being used to raise UFSC's first
\textsc{SmartBuildings}. An overview of such buildings is given, and the current
status of the project is shown along with its preliminary results.
\let\thefootnote\relax\footnotetext{Arliones Hoeller Jr is supported in part by
CAPES grant RH-TVD 006/2008.}
\let\thefootnote\relax\footnotetext{Authors would like to thank UFSC's research
teams involved in the project for making some images and data available,
specially Prof. Ricardo Rüther and people at his Photovoltaic Group. Also,
authors would like to thank Rodrigo Steiner, Alexandre Okazaki, and students
from the 2011's edition of the software/hardware integration course of UFSC's
computer science bachelor degree that helped to build important parts of the
prototype. Finally, we thank Komeco S.A. for supporting the integration of their
air conditioning devices to our system.}
\end{abstract}

\section{Contextualization}

\note{Alternative power sources, environmental sensing}
\textsc{SmartBuildings} are automated buildings where, by the deployment of some
sort of intelligence, it is possible to monitor and manage the buildings'
equipments providing efficient and reliable operation of building services.
Integration of services is, however, an intricate task as different systems
usually implement different communication protocols and require distinct
security or comfort regulations to be fulfilled. Usual building services include
lighting, HVAC\footnote{Heating, Ventilation, and Air-Conditioning}, access
control, and fire detection systems, for which standardized protocols exist
(e.g., \textsc{BACnet}). Smarter management of such systems, however, require
more sophisticate sensing mechanisms, such as accurate and distributed
temperature, lighting, and presence sensors. Moreover, \textsc{SmartBuildings}
are increasingly deploying alternate energy sources such as solar or wind energy
systems. Such systems include other equipments that need to be integrated to the
building's automation network. For this, other application-level protocols need
to be deployed.

\note{control networks}
\note{BacNet}
Several standards exist for building automation networks.
\textsc{BACnet} is a data communication protocol for building automation and
control networks~\cite{ASHRAE:2008}. It supports applications such as HVAC
control, lighting control, access control, and fire detection systems. Its lower
network layers may be Ethernet, \textsc{BACnet/IP}, point-to-point RS-232,
token-passing RS-485, or \textsc{LonWorks}.
\note{LonWorks}
\textsc{LonWorks} is another standard that defines a networking platform for
control applications. It is mostly used in building automation applications
under the \textsc{BACnet} standard for HVAC and lighting applications.
\note{IEEE 802.15.4}
The IEEE 802.15.4~\cite{IEEE802154:2011} standard is also used in building
automation. It specifies a physical layer and a media access control protocol of
a low-rate wireless personal area network (LR-WPAN).

\note{ITU-T G.HNEM}
Narrow-band power line communications (NB-PLC)~\cite{Oksman:2011} is also widely
deployed in building automation. In a PLC network, low-power signals are
transmitted at high frequencies over the power lines. It is a good choice for
building automation because it does not require extra cabling nor wireless
network infrastructure. ITU-T's \textsc{G.hnem} standard defines the physical
and data link layers of an interoperability model for NB-PLC solutions. Its
addressing mechanism allows the devices to be separated into domains. Some nodes
may be deployed for bridging distinct domains. Also, special nodes may be used
for bridging \textsc{G.hnem} to alien protocols. Each domain has a master, which
is responsible for performing administrative tasks such as node admission and
resignation. Such actions are usually implemented by using a standardized
security module (AES-128). Beacon packets are employed to keep the network
synchronized.

% \note{Knowing where energy is spent (consumption sensors)}
% One of the main objectives of a \textsc{SmartBuilding} is to be
% energy-efficient. For this, an important information to increase building
% energy-efficiency is a fine grain profile of energy consumption. Having energy
% meters distributed over the building's power network may allow to enhance
% efficacy of energy-related decisions. Measuring energy consumption at a finer
% grain may also help to build a greener conscientiousness on building users by
% emitting per room/user profiles of energy consumption.

\note{Intelligence to control}
One of the main objectives of a \textsc{SmartBuilding} is to be
energy-efficient. Building ``intelligent'' management rules, however, is not a
trivial task. Defining which sections or devices in the network are critical
still depend on user interaction. Information related to renewable energy
availability may depend on weather and solar irradiation predictions that
present high error rates. Finally, building user or room specific energy
consumption profiles and estimating the energy to be consumed by devices or
building sectors require the collection of historical information and the
deployment of heuristic or artificial intelligence methods able to efficiently
take management decisions. This paper presents an approach to address these
issues.


\section{UFSC's \textsc{SmartBuildings}}

\note{Overview of the building (Architecture + Energy sources + Automation)}
Since early 2011, an inter-departmental team of the Federal University of Santa
Catarina (UFSC) have been working to raise UFSC's first \textsc{SmartBuildings}.
The team is formed by professors and students from several departments,
including civil, electrical, and automation engineering, architecture, and
computer science. The building, besides serving as workplace for the research
team, will also serve as a prototype and showroom for new technologies in the
\textsc{SmartGrid} and renewable energy research topics.

\fig{smartbuilding}{3D view of UFSC's
\textsc{SmartBuildings}.}{width=0.84\columnwidth}

Figure~\ref{fig:smartbuilding} shows a 3D view of the buildings. The
architectural project has carefully deployed windows and water mirrors to
increase lighting efficiency and humidification. Both buildings will be covered
by photovoltaic panels. As a research prototype, different types of photovoltaic
panels are being deployed to address specific research needs. This includes
technologies based on both amorph and crystalline silicon. The total power
generation of the facility is projected to be of 50,153 kWp (kilowatts peak),
what may allow the buildings to operate autonomously most of the time.

\note{Network topology and communication solutions}
UFSC's \textsc{SmartBuildings} include a set of smart components that will allow
for better management of the buildings' energy consumption. One of these
components is a smart wall socket with NB-PLC communication capabilities and an
energy consumption meter. The smart socket reports to the system the energy
consumption of the equipments connected to it. Also, the smart socket receives
commands to either block or release power to the equipments or, in specific
cases, to communicate to the equipments' specific command interfaces. This
allows for the integration of, virtually, any smart equipment to the buildings'
PLC network. The smart socket prototype based on the \textsc{EPOSMote}
project~\cite{Project:EPOS:2012} was deployed in three versions: one to serve as
a dimmer for LED lamps (low power), one to serve as a generic switch for any
wall socket (high power), and a third implementing a command interface to an
air-conditioning system.

A Supervisory Control And Data Acquisition (SCADA) system was built using the
\textsc{ScadaBR} project~\cite{ScadaBR:2012}. The system stores data received
from the devices in the network in a database, and provides interfaces so that
actions may be performed in the network and data may be made available to
graphic interfaces. The system uses the concept of ``data points'', which
represent variables either monitored or controlled by the system. The system
reads data from devices and feeds these into specific \emph{input} data points.
The SCADA system then processes data either when they change or periodically,
and set new values to \emph{output} data points. Finally, the system sends these
output data points to their respective devices in order to make management
decisions effective.

% For instance, rules such as setting hall lamps to be off from 0 a.m. to 6 a.m
% are implemented using a timed event (current time is the input data point) that
% triggers handlers to turn the lamps off or on. A luminosity control system may
% be implemented using a script that sets new levels for the lamps dimmers (output
% data points) every time the luminosity readings from lighting sensors close to
% the lamps change their values (input data points).

\note{Building intelligence: global rules}
Control rules were implemented in two levels: global level and room level.
Scripts implement decision trees to configure devices in the network.
Figure~\ref{fig:global_rules} shows the global level decision tree. The global
decisions focus, specially, on the energy sources. Depending on the status of
the external energy source, batteries, and incoming solar energy, the global
building status is set to a priority level ranging from 0 to 5. When at level 0,
the system is critically out of energy and everything is shutdown. At level 5,
energy availability is normal and the building may operate adequately.

\fig{global_rules}{Decision tree with global building management
rules.}{width=\columnwidth}

\note{Building intelligence: room rules}
Another set of rules controls rooms' energy consumption. Status for each room is
defined by the sum of the global status and the room priority. Room priority is
also assigned a value between 0 and 5.
% Energy availability for each room is set according to its status.
The lower the status, the lower the allowed energy consumption, and the fewer
the services operating in that room. A complete room decision tree is available
online~\cite{Project:SmartBuilding:2012}.


\section{Conclusion}

\note{So far the project is\ldots\\By (when?) it is expected to be ready.}
This paper presented the status of a project in the Federal University of Santa
Catarina that is building UFSC's first \textsc{SmartBuildings} with the goal of
integrating novel technologies. These technologies include alternative energy
sources, new building automation approaches, and new energy management policies,
making these buildings complex distributed systems.
\note{Building intelligence: better rules}
So far, work focused on building the system's infrastructure, there is
still research to be performed regarding autonomous distributed systems. One of
the open issues is scalability. Future work intend to explore the security
infrastructure defined by the \textsc{G.hnem} standard to implement secure
admission and resignation of privileges within the network. Another open issue
is the currently centralized decision structure. As the number of interconnected
equipments grows, the PLC network will, inevitably, build a hierarchy. In such
hierarchal topology, the centralized decision-making process may pose
undesirable communication delay on buildings' services. In this scenario, the
decision process may need to be spread across the network, making room for an
autonomous decision structure in the buildings' distributed system.
\note{More info at project's website}
More information on these developments are available at the project's
website~\cite{Project:SmartBuilding:2012}.

\bibliographystyle{sbc}
\bibliography{paper}

\end{document}
